(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const gn=["loading","start","startup","main","terminal"];let qt=[...gn],xe=qt[0]??"loading",Ne=0;const ht=[];function St(e){ht.push(e)}function Oe(e){const t=document.getElementById(e);return t?getComputedStyle(t).display!=="none":!1}function Vt(){return Oe("terminal")}function oe(){return Oe("startup")}function Ie(e){const t=document.getElementById(e);if(!t)return;if(Oe(e)&&xe===e){for(const r of ht)r(xe);return}const n=++Ne;qt.forEach(r=>{const o=document.getElementById(r);o&&o!==t&&(getComputedStyle(o).display!=="none"?o.animate([{opacity:"1"},{opacity:"0"}],{duration:100,iterations:1,fill:"forwards"}).addEventListener("finish",()=>{n===Ne&&(o.style.display="none",o.style.opacity="0")}):(o.style.display="none",o.style.opacity="0"))}),queueMicrotask(()=>{if(n!==Ne)return;t.style.opacity="0",t.style.display="flex",t.animate([{opacity:"0"},{opacity:"1"}],{duration:100,iterations:1,fill:"forwards"}).addEventListener("finish",()=>{if(n===Ne){t.style.opacity="1",xe=e;for(const o of ht)o(xe)}})})}const yn=50,wn=50;let _e=0,Ot=!1,Be=!1;const ot=e=>new Promise(t=>setTimeout(t,e)),vn=e=>/\.\.\.\s*$/.test(e),kn=String.raw`
>> zawgg boot --web --nosave
Fetching startup prerequisites...
[WARN] 2 prerequisite(s) not satisfied.
Initializing...
[INFO] Model: zawgg.com
[INFO] OS: Zawgg 14.0.0 xHTML_WEB
[INFO] Host: Github Pages 
[INFO] Kernel: vite@7.1.7-stable
[INFO] Last Updated: 11/4/25
[INFO] Packages: 4 (npm) 
[INFO] Shell: TypeScript 5.9.3
[INFO] Resolution: null
[INFO] DE: Tailwind CSS 4.1.16
[INFO] WM: Custom (TypeScript)
[INFO] WM Theme: Mainframe
[INFO] Theme: Mainframe [CSS]
[INFO] Icons: Nerd Fonts [TTF]
[INFO] Terminal: Custom (HTML5)
[INFO] CPU: Hugh BRWR k5-4400M @ 2.4GHz
[INFO] GPU: Hugh DNCN hd3700 
[INFO] Memory: 2MiB / 15942MiB
System Requirements satisfied
[INIT] Mounting /dev/zawgg... done
[INIT] Loading core modules...
    → index.html ................... OK
    → styles.css ................... OK
    → main.ts ...................... OK
    → vscode.exe ................... OK
    → chromium.exe ................. OK
    → cmd.exe ...................... OK
[INFO] Bootstrapping developer environment...
[INFO] Detected Libraries: tailwindcss^4.1.16 @tailwindcss/vite^4.1.16 typescript^5.9.3 vite^7.1.7
[INFO] Git Remote: github.com/hughdunc/zawgg
[INFO] Syncing assets... 24/24 (100%)
[OK]  All systems initialized.
[INIT] Waiting for server validation...
[OK] Validation Token Recieved: 11e798ab-c9dc-4b6a-be00-427f98dc7109
Validation successful.
`,Mn=String.raw`
                                            
 ########   m#####m ##      ##  m###m##   m###m## 
     m#"    " mmm## "#  ##  #" ##"  "##  ##"  "## 
   m#"     m##"""##  ##m##m##  ##    ##  ##    ## 
 m##mmmmm  ##mmm###  "##  ##"  "##mm###  "##mm### 
 """"""""   """" ""   ""  ""    m""" ##   m""" ## 
                                "####""   "####"" 

Welcome to zawgg.com!
`,Cn="Press enter to continue...";async function it(e,t,n=yn,r=wn){const o=++_e,s=t.replace(/\r\n/g,`
`).split(`
`);for(let c=0;c<s.length;c++){if(o!==_e||!oe())return;const l=s[c];if(vn(l)){const m=l.slice(0,-3);e.textContent+=m,e.scrollTop=e.scrollHeight;for(let f=0;f<3;f++){if(o!==_e||!oe())return;e.textContent+=".",e.scrollTop=e.scrollHeight,await ot(r)}e.textContent+=`
`,e.scrollTop=e.scrollHeight,await ot(n)}else e.textContent+=l+`
`,e.scrollTop=e.scrollHeight,await ot(n)}}async function En(){const e=document.getElementById("startup-script");if(!e){console.warn("Missing #startup-script");return}e.textContent="",await it(e,kn),await it(e,Mn),await it(e,Cn)}function bn(e=5e3){return oe()?Promise.resolve():new Promise((t,n)=>{let r=!1;const o=setTimeout(()=>{r||(r=!0,t())},e),s=l=>{r||l==="startup"&&oe()&&(r=!0,clearTimeout(o),t())};St(l=>{s(l)}),requestAnimationFrame(()=>{!r&&oe()&&(r=!0,clearTimeout(o),t())})})}function Dn(){Be&&Yt(),Be=!0,(async()=>{if(await bn(),!oe()){Be=!1;return}await En(),Be=!1})(),Ot||(Ot=!0,document.addEventListener("keydown",e=>{e.key==="Enter"&&oe()&&(e.preventDefault(),Ie("main"))}))}function Yt(){_e++}let S=4,re=[];function Ln(){const e=document.getElementById("main"),t=document.getElementsByClassName("social-link"),n=document.getElementById("enter-terminal");re=Array.from(t).filter(r=>r instanceof HTMLElement),n instanceof HTMLElement&&re.push(n),st(),document.addEventListener("keydown",r=>{if(!(!e||!Oe("main")))switch(r.key){case"ArrowUp":r.preventDefault(),S!==null&&S-1>=0?S-=1:S=0,st();break;case"ArrowDown":r.preventDefault(),S!==null&&S+1<=re.length-1?S+=1:S===null&&(S=0),st();break;case"Enter":S!==null&&(r.preventDefault(),re[S]?.click());break;case"Escape":r.preventDefault(),Sn();break}})}function st(){const e=re[S??-1]??null;for(const t of re)t===e?t.classList.add("enabled"):t.classList.remove("enabled")}function Sn(){S=null;for(const e of re)e.classList.remove("enabled")}const V="/home/";let F=V;function It(e){F=e}let y="",k=0;function mt(e,t){y=e,k=ge(e.length,e.length)}function Rt(e){e&&(y=y.slice(0,k)+e+y.slice(k),k=ge(k+e.length,y.length))}function Tn(){k=ge(k-1,y.length)}function $n(){k=ge(k+1,y.length)}function Se(e){k=ge(e,y.length)}function An(){k<=0||(y=y.slice(0,k-1)+y.slice(k),k=ge(k-1,y.length))}function On(){k>=y.length||(y=y.slice(0,k)+y.slice(k+1))}function In(){y="",k=0}function ge(e,t){return e<0?0:e>t?t:e|0}function ae(e){return e?(e.startsWith("/")||(e="/"+e),e=e.replace(/\/+/g,"/"),e!=="/"&&(e=e.replace(/\/?$/,"/")),e):"/"}function Re(e){return e?(e.startsWith("/")||(e="/"+e),e=e.replace(/\/+/g,"/"),e=e.replace(/\/$/,""),e||"/"):"/"}function at(e,t){let n=(e??"").trim();if(!n||n==="~")return V;if(n==="."||n==="./")return t;if(n==="..")return ye(t);n.startsWith("~/")?n=V+n.slice(2):n.startsWith("/")||(n=t+n);const r=n.split("/").filter(Boolean),o=[];for(const c of r)if(c!=="."){if(c===".."){o.length>0&&o.pop();continue}o.push(c)}let s="/"+o.join("/");return s!=="/"&&(s+="/"),s}function Ve(e,t){let n=(e??"").trim();if(!n)return"/";n.startsWith("~/")?n=V+n.slice(2):n==="~"?n=V:n.startsWith("/")||(n=t+n);const r=n.split("/").filter(Boolean),o=[];for(const s of r)if(s!=="."){if(s===".."){o.length>0&&o.pop();continue}o.push(s)}return Re("/"+o.join("/"))}function ye(e){const t=Re(e);if(t==="/")return"/";const n=t.split("/").filter(Boolean);return n.pop(),n.length?"/"+n.join("/")+"/":"/"}function G(e){if(e===V)return"~";if(e.startsWith(V)){const t=e.slice(V.length).replace(/\/$/,"");return t?"~/"+t:"~"}return e==="/"?"/":e.replace(/\/$/,"")}let Me=null,Te=!0,dt=null;function Q(e){dt=e,Te=!0,Tt()}function Tt(){dt&&dt(Te)}function Je(){Me===null&&(Me=window.setInterval(()=>{Te=!Te,Tt()},400))}function Zt(){Me!==null&&(clearInterval(Me),Me=null),Te=!0,Tt()}window.addEventListener("blur",Zt);window.addEventListener("focus",Je);window.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"?Je():Zt()});Je();let x=null;const Qt=[];let Pt=null,Ft=!1;function Jt(){return document.getElementById("console")}function Rn(e){const t=document.createElement("span");t.textContent="M".repeat(50),t.style.visibility="hidden",t.style.position="absolute",t.style.left="-9999px",t.style.whiteSpace="pre",e.appendChild(t);const n=t.getBoundingClientRect(),r=n.width/50,o=n.height;return t.remove(),{charWidth:Math.max(r,1),lineHeight:Math.max(o,1)}}function Pn(){const e=Jt();if(!e)return null;const{clientWidth:t,clientHeight:n}=e,{charWidth:r,lineHeight:o}=Rn(e),s=Math.max(1,Math.floor(t/r)),c=Math.max(1,Math.floor(n/o));return{widthPx:t,heightPx:n,charWidth:r,lineHeight:o,cols:s,rows:c}}function Fn(e){for(const t of Qt)t(e)}function He(){const e=Pn();if(!e)return;const t=!x||e.cols!==x.cols||e.rows!==x.rows||e.widthPx!==x.widthPx||e.heightPx!==x.heightPx||e.charWidth!==x.charWidth||e.lineHeight!==x.lineHeight;x=e,t&&Fn(e)}function Xt(){if(Ft)return;Ft=!0;const e=Jt();e&&"ResizeObserver"in window?(Pt=new ResizeObserver(()=>He()),Pt.observe(e)):window.addEventListener("resize",He);const t=document.fonts?.ready;t&&typeof t.then=="function"&&t.then(()=>He()),queueMicrotask(He)}function xn(e){Xt(),Qt.push(e),x&&e(x)}function en(){return Xt(),x}function ce(){return document.getElementById("console")}function Nn(){const e=en();return{cols:e?.cols??80,rows:e?.rows??24}}function U(){let{cols:e,rows:t}=Nn();return{el:ce(),cols:e,rows:t,draw(n){const r=ce();if(!r)return;const o=n.slice(0,t);for(;o.length<t;)o.push("");r.textContent=o.join(`
`),r.scrollTop=r.scrollHeight},clear(){const n=ce();n&&(n.textContent="")},backupConsole(){const n=ce();n&&(xt=n.textContent??"")},restoreConsole(){const n=ce();n&&(n.textContent=xt,n.scrollTop=n.scrollHeight)},writeRaw(n){const r=ce();r&&(r.textContent=n,r.scrollTop=r.scrollHeight)}}}let tn=null;function Bn(e){tn=e}let j=[],xt="",nn=!0;function lt(e){nn=e;const t=w.top();t&&t.onCursor&&t.wantsCursor!==!1&&t.onCursor(e,U())}const w={isActive(){return j.length>0},top(){return j[j.length-1]},async push(e){j.length===0&&U().backupConsole(),e.wantsCursor!==!1?Q(lt):Q(null),j.push(e),await e.onEnter(U())},async pop(e="normal"){const t=j.pop();if(t)if(t.onExit&&await t.onExit(e,U()),j.length===0){U().restoreConsole(),Q(null),tn?.();return}else{const n=j[j.length-1];n.wantsCursor!==!1?Q(lt):Q(null),n.onResize&&n.onResize(U()),n.onCursor&&n.onCursor(nn,U())}},handleKey(e){const t=this.top();return t?!!t.onKey?.(e,U()):!1},notifyResize(){const e=this.top();e&&e.onResize?.(U())},async interrupt(){this.isActive()&&await this.pop("interrupt")}},We=document.getElementById("console");let Xe=[];const Hn="▌";let rn=!0;en();function Wn(){return G(F)}function on(){return`user@zawgg ${Wn()} $ `}function i(e=""){Xe.push(e),g(!0)}function Kn(){Xe=[],g(!0)}function zn(e){Xe.push(on()+e)}function g(e=!1){if(!We||w.isActive())return;const t=y.slice(0,k),n=y.slice(k),r=rn?Hn:" ",o=on()+t+r+n,s=[...Xe,o].join(`
`);We.textContent=s,We.scrollTop=We.scrollHeight}function _n(e){rn=e,g(!0)}function sn(){w.isActive()||Q(_n)}xn(e=>{w.isActive()?w.notifyResize():g(!0)});Je();Bn(()=>{sn(),g(!0)});sn();g();const A=[];let N=-1,Ye="";function an(){N=-1,Ye=""}function Gn(e){const t=e.trim();t&&((A.length===0||A[A.length-1]!==t)&&A.push(t),an())}function jn(){if(A.length===0)return;N===-1?(Ye=y,N=A.length-1):N>0&&N--;const e=A[N];mt(e),Se(e.length)}function Un(){if(A.length!==0&&N!==-1)if(N<A.length-1){N++;const e=A[N];mt(e),Se(e.length)}else N=-1,mt(Ye),Se(Ye.length)}const qn={help:()=>{i("Commands:"),i("  help            Show this help"),i("  clear           Clear the screen"),i("  echo ...        Print the given arguments"),i("  date            Show current date/time"),i("  history         Show previously entered commands"),i("  whoami          Who are you?"),i("  exit            Return to portfolio"),i(""),i("Fun Stuff:"),i("  neofetch        I use Zawgg btw"),i("  hack            Hack somebodies mainframe"),i("  snake           Plays the classic Snake game."),i("  cmatrix         Attempt at making CMatrix in this terminal, very buggy tho"),i("  "),i("Filesystem:"),i("  pwd             Print working directory"),i("  cd [dir]        Change directory (supports /, ~, ., ..)"),i("  ls              List entries in the current directory"),i("  mkdir [dir]     Create directory (parent must exist)"),i("  rmdir [dir]     Remove EMPTY directory"),i("  touch [file]    Create empty file (parent must exist)"),i("  cat [file]      Print file contents"),i("  fsreset         Reset cookie filesystem to / and /home/"),i("  nano [file]     Open minimal editor (fullscreen in console)"),i(""),i("Notes:"),i("  - Filesystem uses cookies, so it saves your work."),i("  - Command history is NOT saved between sessions, only files and folders."),i("")},clear:()=>{Kn(),g()},echo:e=>{i(e.join(" "))},date:()=>{i(new Date().toString())},history:()=>{if(A.length===0){i("(no history)");return}A.forEach((e,t)=>i(`${t+1}  ${e}`))},exit:()=>{i("Exiting terminal..."),Ie("main")},whoami:()=>{i("dude idfk, you should know who you are")}},pe=(e,t,n)=>Math.max(t,Math.min(n,e)),Ce=(e,t)=>e+Math.floor(Math.random()*(t-e+1)),Vn=e=>e[Math.floor(Math.random()*e.length)];let Ze=!1,he=!1,ke=null,$=80,d=24,pt=performance.now(),fe=.5,gt=[],Ee=[],ln=[];const Yn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz@#$%&*+=-".split("");function Nt(e){$=pe(e.cols,20,240),d=pe(e.rows,10,80),Ee=Array.from({length:d},()=>Array($).fill(0)),ln=Array.from({length:d},()=>Array($).fill(" ")),gt=[];for(let t=0;t<$;t++)gt.push({y:Ce(-d,d),len:Ce(Math.max(4,Math.floor(d/6)),Math.max(6,Math.floor(d/2))),speed:d*.9+Math.random()*d*.3})}function yt(e){const t=new Array(d);for(let n=0;n<d;n++){const r=ln[n],o=Ee[n];for(let c=0;c<$;c++)o[c]>0?r[c]=Vn(Yn):r[c]=" ";let s=r.join("");s.length<$&&(s=s.padEnd($," ")),s.length>$&&(s=s.slice(0,$)),t[n]=s}if(t.length<d)for(;t.length<d;)t.push("".padEnd($," "));else t.length>d&&(t.length=d);e.draw(t)}function Zn(e){const t=Math.max(1,Math.floor(e*60));for(let n=0;n<t;n++)for(let r=0;r<d;r++){const o=Ee[r];for(let s=0;s<$;s++)o[s]>0&&o[s]--}for(let n=0;n<$;n++){const r=gt[n];he||(r.y+=r.speed*fe*e),!he&&Math.random()<.002&&(r.len=pe(r.len+Ce(-2,2),3,Math.max(4,Math.floor(d*.6)))),!he&&Math.random()<.002&&(r.speed=pe(r.speed*(.7+Math.random()*.8),d*.3,d*2.2));const o=Math.floor(r.y);for(let s=0;s<r.len;s++){const c=o-s;c>=0&&c<d&&(Ee[c][n]=Math.max(Ee[c][n],r.len-s))}o-r.len>d&&(r.y=-Ce(5,d),r.len=Ce(Math.max(4,Math.floor(d/6)),Math.max(6,Math.floor(d/2))),r.speed=d*.9+Math.random()*d*.6)}}function cn(e){if(!Ze)return;const t=performance.now(),n=Math.min(.1,(t-pt)/1e3);pt=t,Zn(n),yt(e),ke=requestAnimationFrame(()=>cn(e))}const Qn={name:"cmatrix",wantsCursor:!1,onEnter(e){Ze=!0,he=!1,fe=1,pt=performance.now(),e.backupConsole(),Nt(e),yt(e),ke=requestAnimationFrame(()=>cn(e))},onKey(e){return e.key==="q"||e.key==="Q"||e.key==="Escape"?(e.preventDefault(),w.pop("normal"),!0):e.key==="p"||e.key==="P"?(e.preventDefault(),he=!he,!0):e.key==="+"?(e.preventDefault(),fe=pe(fe*1.15,.1,5),!0):e.key==="-"||e.key==="_"?(e.preventDefault(),fe=pe(fe/1.15,.1,5),!0):(e.preventDefault(),!0)},onResize(e){Nt(e),yt(e)},onExit(e){Ze=!1,ke!==null&&(cancelAnimationFrame(ke),ke=null),i(e==="interrupt"?"cmatrix: interrupted":"cmatrix: exited")}};function Jn(e){if(Ze){i("cmatrix: already running");return}w.push(Qn)}function Xn(e){return encodeURIComponent(e)}function er(e){try{return decodeURIComponent(e)}catch{return e}}function tr(e,t,n=365){const r=new Date(Date.now()+n*864e5).toUTCString();document.cookie=`${e}=${Xn(t)}; expires=${r}; path=/; SameSite=Lax`}function nr(e){const t=new RegExp(`(?:^|; )${e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")}=([^;]*)`),n=document.cookie.match(t);return n?er(n[1]):null}const un="zawgg_fs";let D=cr();function H(e){return D.dirs.includes(ae(e))}function $e(e){return Object.prototype.hasOwnProperty.call(D.files,Re(e))}function fn(e){const t=Re(e);return Object.prototype.hasOwnProperty.call(D.files,t)?D.files[t]:null}function wt(e,t){const n=Re(e);D.files[n]=t,et()}function rr(e){const t=ae(e);if(H(t))return{ok:!1,msg:`mkdir: cannot create directory '${t}': File exists`};const n=t==="/"?"/":t.replace(/[^/]+\/$/,"");return H(n)?(D.dirs.push(t),lr(),et(),{ok:!0}):{ok:!1,msg:`mkdir: cannot create directory '${t}': No such file or directory`}}function or(e){const t=ae(e);return H(t)?t==="/"||t==="/home/"?{ok:!1,msg:`rmdir: failed to remove '${t}': Operation not permitted`}:ar(t)?(D.dirs=D.dirs.filter(n=>n!==t),et(),{ok:!0}):{ok:!1,msg:`rmdir: failed to remove '${t}': Directory not empty`}:{ok:!1,msg:`rmdir: failed to remove '${t}': No such file or directory`}}function ir(e){const t=ae(e),n=new Set;for(const r of D.dirs){if(r===t||!r.startsWith(t))continue;const s=r.slice(t.length).split("/").filter(Boolean)[0];s&&n.add(s+"/")}for(const r of Object.keys(D.files)){if(ye(r)!==t)continue;const o=r.split("/").pop();o&&n.add(o)}return Array.from(n).sort()}function sr(){D=be({dirs:["/","/home/"],files:{}}),et()}function ar(e){const t=ae(e),n=D.dirs.some(o=>o!==t&&o.startsWith(t)),r=Object.keys(D.files).some(o=>ye(o)===t);return!n&&!r}function lr(){const e=new Set(D.dirs.map(ae));D.dirs=Array.from(e).sort()}function be(e){const t=new Set(e.dirs.map(ae));return t.add("/"),t.add("/home/"),{dirs:Array.from(t).sort(),files:e.files||{}}}function et(){tr(un,JSON.stringify(be(D)))}function cr(){try{const e=nr(un);if(!e)return be({dirs:["/","/home/"],files:{}});const t=JSON.parse(e);return be(t)}catch{return be({dirs:["/","/home/"],files:{}})}}let vt=!1,T=null,kt="/",u=[],a=0,h=0,q=null,De=!0,X=!1,b="",M=0,K="";const ur=3,fr=3;function Ae(e,t,n){return Math.max(t,Math.min(n,e))}function P(e,t,n=!1){a=Ae(e,0,Math.max(0,u.length-1));const r=u[a]?.length??0;h=Ae(t,0,r),q=n?q??h:null}function hr(e){const t=e.cols,n=T?`ZAWGG nano — ${G(T)}`:"ZAWGG nano — (new file)";return"╔"+"═".repeat(Math.max(0,t-2))+`╗
║ ${n}
╟`+"─".repeat(Math.max(0,t-2))+`╢
`}function mr(e){const t=e.cols,n=`Ctrl+S save${T?"":" as"} | Esc cancel  |  Lines: ${Math.max(1,u.length)}  Pos: ${a+1}:${h+1}  Grid: ${t}x${e.rows}`;return`
╟`+"─".repeat(Math.max(0,t-2))+`╢
║ ${n}
╚`+"═".repeat(Math.max(0,t-2))+"╝"}function dr(e){const t=e.cols;return`
╟`+"─".repeat(Math.max(0,t-2))+`╢
║ ${K?"Error: "+K:"Enter to confirm, Esc to cancel"}
╚`+"═".repeat(Math.max(0,t-2))+"╝"}function p(e){const t=e.cols,n=e.rows,r=Math.max(1,n-ur-fr);let o=0;if(u.length>r){const f=Math.max(0,u.length-r);a>=o+r&&(o=a-(r-1)),a<o&&(o=a),o=Math.max(0,Math.min(o,f))}const s=Math.min(u.length,o+r),c=[];for(let f=o;f<s;f++){const I=(u[f]??"").slice(0,t);if(f===a&&!X){const le=De?"▌":" ",R=Ae(h,0,I.length),Fe=I.slice(0,R),we=I.slice(R);c.push(Fe+le+we)}else c.push(I)}if(u.length===0){const f=De&&!X?"▌":" ";c.push(f)}for(;c.length<r;)c.push("");const l=X?dr(e):mr(e),m=hr(e)+c.join(`
`)+l;e.writeRaw(m)}function pr(e){let t=b.trim();if(!t)return{ok:!1,err:"Filename cannot be empty"};const n=Ve(t,e);if(H(n)&&!$e(n))return{ok:!1,err:"A directory with that name already exists"};if($e(n))return{ok:!1,err:"File already exists"};const r=ye(n);return H(r)?{ok:!0,path:n}:{ok:!1,err:"Parent directory does not exist"}}let ue=!1;const Bt={name:"nano",wantsCursor:!0,onEnter(e){vt=!0,De=!0,ue=!1,X=!1,b="",M=0,K="",e.backupConsole(),p(e)},onKey(e,t){if(X){if(e.key==="Escape")return e.preventDefault(),X=!1,K="",p(t),!0;if(e.key==="Enter"){e.preventDefault();const n=pr(kt);if(!n.ok)return K=n.err,p(t),!0;const r=u.join(`
`);return wt(n.path,r),T=n.path,ue=!0,w.pop("normal"),!0}if(!e.ctrlKey&&!e.metaKey&&!e.altKey)switch(e.key){case"ArrowLeft":return e.preventDefault(),M=Math.max(0,M-1),p(t),!0;case"ArrowRight":return e.preventDefault(),M=Math.min(b.length,M+1),p(t),!0;case"Home":return e.preventDefault(),M=0,p(t),!0;case"End":return e.preventDefault(),M=b.length,p(t),!0;case"Backspace":return e.preventDefault(),M>0&&(b=b.slice(0,M-1)+b.slice(M),M--,K="",p(t)),!0;case"Delete":return e.preventDefault(),M<b.length&&(b=b.slice(0,M)+b.slice(M+1),K="",p(t)),!0;default:if(e.key.length===1)return e.preventDefault(),b=b.slice(0,M)+e.key+b.slice(M),M++,K="",p(t),!0}return e.preventDefault(),!0}if(e.ctrlKey&&e.key.toLowerCase()==="s"){if(e.preventDefault(),!T)return X=!0,b="",M=0,K="",p(t),!0;const n=u.join(`
`);return wt(T,n),ue=!0,w.pop("normal"),!0}if(e.key==="Escape")return e.preventDefault(),ue=!1,w.pop("normal"),!0;if(!e.ctrlKey&&!e.metaKey&&!e.altKey)switch(e.key){case"ArrowLeft":return e.preventDefault(),h>0?P(a,h-1):a>0&&P(a-1,(u[a-1]||"").length),p(t),!0;case"ArrowRight":{e.preventDefault();const n=u[a]?.length??0;return h<n?P(a,h+1):a<u.length-1&&P(a+1,0),p(t),!0}case"ArrowUp":{e.preventDefault();const n=q??h;if(a>0){const r=u[a-1].length;a=a-1,h=Ae(n,0,r),q=n,p(t)}return!0}case"ArrowDown":{e.preventDefault();const n=q??h;if(a<u.length-1){const r=u[a+1].length;a=a+1,h=Ae(n,0,r),q=n,p(t)}return!0}case"Home":return e.preventDefault(),P(a,0),p(t),!0;case"End":return e.preventDefault(),P(a,u[a]?.length??0),p(t),!0;case"Backspace":{if(e.preventDefault(),h>0)u[a]=u[a].slice(0,h-1)+u[a].slice(h),P(a,h-1);else if(a>0){const n=u[a-1].length;u[a-1]=u[a-1]+(u[a]??""),u.splice(a,1),P(a-1,n)}return p(t),!0}case"Delete":{e.preventDefault();const n=u[a]?.length??0;return h<n?u[a]=u[a].slice(0,h)+u[a].slice(h+1):a<u.length-1&&(u[a]=u[a]+(u[a+1]??""),u.splice(a+1,1)),p(t),!0}case"Enter":{e.preventDefault();const n=u[a]??"",r=n.slice(0,h),o=n.slice(h);return u[a]=r,u.splice(a+1,0,o),P(a+1,0),p(t),!0}case"Tab":{e.preventDefault();const n="  ",r=u[a]??"";return u[a]=r.slice(0,h)+n+r.slice(h),P(a,h+n.length),p(t),!0}default:if(e.key.length===1){e.preventDefault();const n=u[a]??"";return u[a]=n.slice(0,h)+e.key+n.slice(h),P(a,h+1),p(t),!0}}return e.preventDefault(),!0},onCursor(e,t){De=e,p(t)},onResize(e){p(e)},onExit(e,t){const n=T?G(T):"(new file)",r=u.join(`
`);i(e==="interrupt"?`Cancelled editing ${n}`:ue&&T?`Saved ${G(T)} (${r.length} bytes)`:`Cancelled editing ${n}`),vt=!1,T=null,u=[],a=h=0,q=null,De=!0,ue=!1,X=!1,b="",M=0,K=""}};function hn(e,t){if(vt)return;if(kt=t||"/",!e||e.length===0||!e[0]){T=null,u=[""],a=0,h=0,q=null,w.push(Bt);return}const n=Ve(e[0],kt);if(H(n)&&!$e(n)){i(`nano: ${G(n)}: Is a directory`);return}const r=ye(n);if(!H(r)){i(`nano: ${G(n)}: No such file or directory`);return}T=n,u=($e(n)?fn(n)??"":"").split(`
`),u.length===0&&(u=[""]),a=0,h=0,q=null,w.push(Bt)}const gr={pwd:()=>{i(F)},cd:e=>{const t=at(e[0],F);H(t)?It(t):i(`cd: no such file or directory: ${G(t)}`)},ls:()=>{const e=ir(F);i(e.length?e.join("  "):"")},mkdir:e=>{if(!e[0])return i("mkdir: missing operand");const t=at(e[0],F),n=rr(t);"msg"in n&&n.msg&&i(n.msg)},rmdir:e=>{if(!e[0])return i("rmdir: missing operand");const t=at(e[0],F),n=or(t);"msg"in n&&n.msg&&i(n.msg)},touch:e=>{if(!e[0])return i("touch: missing file operand");const t=Ve(e[0],F);if(t==="/")return i("touch: cannot touch '/': Is a directory");const n=ye(t);if(!H(n))return i(`touch: cannot touch '${G(t)}': No such file or directory`);$e(t)||wt(t,"")},cat:e=>{if(!e[0])return i("cat: missing file operand");const t=Ve(e[0],F);if(H(t+"/"))return i(`cat: ${G(t)}: Is a directory`);const n=fn(t);if(n===null)return i(`cat: ${G(t)}: No such file`);i(n)},nano:e=>{hn(e,F)},fsreset:()=>{sr(),H(F)||It(V),i("filesystem: reset to defaults")}};function yr(e){return new Promise(t=>setTimeout(t,e))}function ct(){return`${Math.floor(10+Math.random()*240)}.${Math.floor(1+Math.random()*254)}.${Math.floor(1+Math.random()*254)}.${Math.floor(1+Math.random()*254)}`}function ut(e,t){const n=document.createElement("span");n.textContent=e,n.style.position="absolute",n.style.visibility="hidden",n.style.whiteSpace="pre",n.style.fontFamily="monospace",t.el?.appendChild(n);const r=n.getBoundingClientRect().width;return n.remove(),r}function wr(e){const t="╔".repeat(40)+"═".repeat(40)+"║".repeat(40)+"╚".repeat(40)+"╝".repeat(40),n="┌".repeat(40)+"─".repeat(40)+"│".repeat(40)+"└".repeat(40)+"┘".repeat(40),r="M".repeat(280),o=ut(t,e),s=ut(n,e),c=ut(r,e),m=c/280*.2*280,f=Math.abs(o-c)<=m,O=Math.abs(s-c)<=m;return f?{tl:"╔",tr:"╗",bl:"╚",br:"╝",h:"═",v:"║"}:O?{tl:"┌",tr:"┐",bl:"└",br:"┘",h:"─",v:"│"}:{tl:"+",tr:"+",bl:"+",br:"+",h:"-",v:"|"}}let ee=!1,v=!1,J=!1,E="",C=0,Mt=!0,Y="",Ke=!1,$t={tl:"+",tr:"+",bl:"+",br:"+",h:"-",v:"|"},B=0,Ct="";function mn(e,t,n){const{cols:r,rows:o}=e,s=t.length,c=Math.max(0,Math.floor((r-n)/2)),l=Math.max(0,Math.floor((o-s)/2)),m=[];for(let f=0;f<l;f++)m.push("");for(const f of t)m.push(" ".repeat(c)+f);return m}function W(e){const{cols:t}=e,n=Math.min(Math.max(34,Math.floor(t*.6)),Math.max(20,t-10)),r=Math.max(0,n-2),{tl:o,tr:s,bl:c,br:l,h:m,v:f}=$t,O=o+m.repeat(r)+s,I=f+" What are you hacking?".padEnd(r," ").slice(0,r)+f,le=E.slice(0,C),R=E.slice(C),we=(le+(Mt?"▌":" ")+R).slice(0,r),tt=f+" "+we.padEnd(r-1," ")+f,nt=f+" (Enter) run   (Esc/Ctrl+C) cancel".padEnd(r," ").slice(0,r)+f,rt=c+m.repeat(r)+l,pn=[O,I,tt,nt,rt];e.draw(mn(e,pn,n))}function Ht(e,t){const{cols:n}=e,r=` ${t} successfully mainframed `,o=" (Press Enter to continue) ",s=Math.min(Math.max(r.length,o.length),Math.max(20,n-10)),c=Math.min(s+2,n),l=Math.max(0,c-2),{tl:m,tr:f,bl:O,br:I,h:le,v:R}=$t,Fe=m+le.repeat(l)+f,we=R+r.padEnd(l," ").slice(0,l)+R,tt=R+" ".repeat(l)+R,At=R+o.padEnd(l," ").slice(0,l)+R,nt=O+le.repeat(l)+I,rt=[Fe,we,tt,At,nt];e.draw(mn(e,rt,c)),J=!0}function vr(e,t){let n="";return{clear(){t===B&&(n="",e.writeRaw(n))},writeLine(r=""){t===B&&(n+=r+`
`,e.writeRaw(n))}}}async function kr(e,t,n){v=!0;const r=vr(e,n);r.clear();const o=async l=>{for(let f=0;f<l;f+=50){if(n!==B||!ee)return!0;await yr(50)}return!1};if(r.writeLine(`[INIT] Target: ${t}`),await o(350)){v=!1;return}const s=ct(),c=ct();if(r.writeLine(`[NET] Attacker IP: ${s}  (routing through proxy nodes...)`),await o(450)){v=!1;return}if(r.writeLine(`[NET] Resolving ${t} -> ${c}`),await o(400)){v=!1;return}if(r.writeLine("[SEC] Probing firewall..."),await o(500)){v=!1;return}for(let l=0;l<=100;l+=5){if(n!==B||!ee){v=!1;return}const m="["+"#".repeat(Math.floor(l/5)).padEnd(20," ")+`] ${l}%`;if(r.writeLine(`[SCAN] ${m}`),l%20===0&&r.writeLine(`[SCAN] scanning ports... ${l}%`),await o(120)){v=!1;return}}if(await o(300)){v=!1;return}if(r.writeLine(`[EXPLOIT] Deploying exploit payload to ${c}`),await o(500)){v=!1;return}for(let l=0;l<30;l++){if(n!==B||!ee){v=!1;return}const m=Math.random().toString(36).slice(2,12).toUpperCase();if(r.writeLine(`${l%2===0?"[TRACE]":"[DATA]"} ${m} ${ct()} ${Math.random().toString(16).slice(2,10)}`),await o(45)){v=!1;return}}if(r.writeLine("[BREACH] Root-level access achieved"),await o(300)){v=!1;return}for(let l=0;l<=100;l+=10){if(n!==B||!ee){v=!1;return}if(r.writeLine(`[MAINFRAME] writing... ${l}%`),await o(140)){v=!1;return}}if(r.writeLine(""),r.writeLine("[OK] primary objectives complete"),await o(500)){v=!1;return}v=!1}const Mr={name:"hack",wantsCursor:!0,onEnter(e){ee=!0,v=!1,J=!1,E=Ct,C=E.length,Ct="",Mt=!0,Y="",Ke=!1,$t=wr(e),W(e)},onKey(e,t){if(e.ctrlKey&&e.key.toLowerCase()==="c")return e.preventDefault(),B++,w.pop("interrupt"),!0;if(v)return e.preventDefault(),!0;if(J)return e.key==="Enter"?(e.preventDefault(),J=!1,Ke=!0,w.pop("normal"),!0):(e.preventDefault(),!0);switch(e.key){case"Enter":{e.preventDefault(),Y=E.trim()||"(unnamed)";const n=++B;return(async()=>(await kr(t,Y,n),n===B&&ee&&Ht(t,Y)))(),!0}case"Escape":return e.preventDefault(),B++,w.pop("normal"),!0;case"Backspace":return e.preventDefault(),C>0&&(E=E.slice(0,C-1)+E.slice(C),C--),t&&W(t),!0;case"Delete":return e.preventDefault(),C<E.length&&(E=E.slice(0,C)+E.slice(C+1)),t&&W(t),!0;case"ArrowLeft":return e.preventDefault(),C=Math.max(0,C-1),t&&W(t),!0;case"ArrowRight":return e.preventDefault(),C=Math.min(E.length,C+1),t&&W(t),!0;case"Home":return e.preventDefault(),C=0,t&&W(t),!0;case"End":return e.preventDefault(),C=E.length,t&&W(t),!0;default:return e.key.length===1&&!e.ctrlKey&&!e.metaKey&&!e.altKey?(e.preventDefault(),E=E.slice(0,C)+e.key+E.slice(C),C++,t&&W(t),!0):((e.ctrlKey||e.metaKey)&&e.preventDefault(),!0)}},onCursor(e,t){Mt=e,!v&&!J&&W(t)},onResize(e){!v&&!J?W(e):J&&Ht(e,Y)},onExit(e,t){B++,ee=!1,v=!1,e==="normal"&&Ke&&Y&&i(`${Y} successfully mainframed`),J=!1,Ke=!1,Y=""}};function Cr(e=[]){if(ee){i("hack: already running");return}Ct=e&&e.length?e.join(" "):"",w.push(Mr)}const Er=["                                ","      @@@@@@@@@@@@@@@%+         ","  ~@@@@@@%@@@%@@@@@@@@@@@}      "," @@##@##@@@@@@@@@@@%@@@@@@@<    ","(@@%%%%%%%###%%@@@@@@@@@@@@@@@  ",">%%{#@@%@@@@#%{#%%%#######@@@@@ ","<@%####@@.>@@%%%#%%@@@@@%@%%#@@@","+##@@@%@>  %%####%#%#%%##@@@@@@<","~#%##{%@@@@@@{#@@@@@@@#%%@ *@@%>","~@@%@%%#%%##{#{@    <#{##@  @%%="," @@@%@@@%%%####@@@@>}%{{#@@@@}@+","  @[<>]{###%%%@@@@@@%@#%##}}#@@ ","   @@*--^}@{}}[]}[[#{}[]]}@@@@  ","   @@@@@@ (%@@@@@@@@#*-+(@#-    ","     ^^^          ^~ @@@@}      ","                                "],br=["OS: Zawgg 14.0.0 xHTML_WEB","Host: Github Pages ","Kernel: vite@7.1.7-stable","Last Updated: 11/4/25","Packages: 4 (npm) ","Shell: TypeScript 5.9.3","DE: Tailwind CSS 4.1.16","WM: Custom (TypeScript)","WM Theme: Mainframe","Theme: Mainframe [CSS]","Icons: Nerd Fonts [TTF]","Terminal: Custom (HTML5)","CPU: Hugh BRWR k5-4400M @ 2.4GHz","GPU: Hugh DNCN hd3700 "];function Dr(e,t){return e.length>=t?e:e+" ".repeat(t-e.length)}function Lr(e,t,n=4){const r=e.reduce((l,m)=>Math.max(l,m.length),0),o=" ".repeat(n),s=Math.max(e.length,t.length),c=[];for(let l=0;l<s;l++){const m=Dr(e[l]??"",r),f=t[l]??"";c.push(m+o+f)}return c}function Sr(){const e=Lr(Er,br,4);for(const t of e)i(t)}const Et=(e,t,n)=>Math.max(t,Math.min(n,e)),Wt=(e,t)=>e+Math.floor(Math.random()*(t-e+1)),bt=(e,t)=>e.r===t.r&&e.c===t.c,Z={tl:"+",tr:"+",bl:"+",br:"+",h:"-",v:"|"},Dt=3,Tr="   ",$r=" * ",Ar=" O ",Or=" o ";let Ge=!1,me=!1,ie=!1,ve=null,L=80,Kt=24,te=0,Pe=0,z=[],_="right",Le=null,je=0,ne=null,se=0,Qe=0,Ue=140,qe=0,ft=0;function Ir(e){L=Et(e.cols,20,240),Kt=Et(e.rows,12,80);const t=Math.max(0,L-2);te=Math.max(8,Math.floor(t/Dt)),Pe=Math.max(8,Kt-4)}function Lt(e){Ir(e);const t=Math.floor(Pe/2),n=Et(Math.floor(te/2),2,Math.max(2,te-3));z=[{r:t,c:n-1},{r:t,c:n},{r:t,c:n+1}],_="right",Le=null,je=0,se=0,Ue=140,me=!1,ie=!1,dn()}function zt(e){Lt(e),de(e)}function dn(){let e=0;for(;e++<500;){const t=Wt(0,Pe-1),n=Wt(0,te-1),r={r:t,c:n};if(!z.some(o=>bt(o,r))){ne=r;return}}ne=null}function ze(e){_==="up"&&e==="down"||_==="down"&&e==="up"||_==="left"&&e==="right"||_==="right"&&e==="left"||(Le=e)}function Rr(e,t){if(me||ie||(qe+=t,qe<Ue))return;qe=0,Le&&(_=Le,Le=null);const n=z[z.length-1],r={r:n.r,c:n.c};if(_==="up"&&r.r--,_==="down"&&r.r++,_==="left"&&r.c--,_==="right"&&r.c++,r.r<0||r.r>=Pe||r.c<0||r.c>=te){_t(e);return}if(z.some(o=>bt(o,r))){_t(e);return}z.push(r),ne&&bt(r,ne)&&(se+=1,je+=2,ne=null,dn(),Ue=Math.max(70,Ue-2)),je>0?je--:z.shift(),de(e)}function _t(e){ie=!0,Qe=Math.max(Qe,se),de(e)}function de(e){const t=[],n=` SNAKE  Score: ${se}  Best: ${Qe}  ${me?"[PAUSED]":ie?"[GAME OVER]":""}`;t.push(n.padEnd(L," ").slice(0,L));const r=Z.tl+Z.h.repeat(te*Dt)+Z.tr;t.push(r.padEnd(L," ").slice(0,L));for(let c=0;c<Pe;c++){let l=Z.v;for(let m=0;m<te;m++){let f=Tr;ne&&ne.r===c&&ne.c===m&&(f=$r);for(let O=0;O<z.length;O++){const I=z[O];if(I.r===c&&I.c===m){f=O===z.length-1?Ar:Or;break}}l+=f}l+=Z.v,l.length<L&&(l=l.padEnd(L," ")),l.length>L&&(l=l.slice(0,L)),t.push(l)}const o=Z.bl+Z.h.repeat(te*Dt)+Z.br;t.push(o.padEnd(L," ").slice(0,L)),t.push(" Arrows/WASD=Move  P=Pause  R=Restart  Esc/Q=Quit ".padEnd(L," ").slice(0,L)),e.draw(t)}const Pr={name:"snake",wantsCursor:!1,onEnter(e){Ge=!0,me=!1,ie=!1,ft=performance.now(),qe=0,e.backupConsole(),Lt(e),de(e);const t=()=>{if(!Ge)return;const n=performance.now(),r=n-ft;ft=n,Rr(e,r),ve=requestAnimationFrame(t)};ve=requestAnimationFrame(t)},onKey(e,t){if(e.key==="Escape"||e.key.toLowerCase()==="q")return e.preventDefault(),w.pop("normal"),!0;if(e.key.toLowerCase()==="r")return e.preventDefault(),zt(t),!0;if(e.key.toLowerCase()==="p")return e.preventDefault(),me=!me,de(t),!0;switch(e.key){case"ArrowUp":case"w":case"W":return e.preventDefault(),ze("up"),!0;case"ArrowDown":case"s":case"S":return e.preventDefault(),ze("down"),!0;case"ArrowLeft":case"a":case"A":return e.preventDefault(),ze("left"),!0;case"ArrowRight":case"d":case"D":return e.preventDefault(),ze("right"),!0}return ie&&e.key==="Enter"?(e.preventDefault(),zt(t),!0):(e.preventDefault(),!0)},onResize(e){Lt(e),de(e)},onExit(e,t){Ge=!1,ve!==null&&(cancelAnimationFrame(ve),ve=null),i(e==="interrupt"?`snake: interrupted (score ${se})`:ie?`snake: game over — score ${se}, best ${Qe}`:`snake: exited (score ${se})`)}};function Fr(e){if(Ge){i("snake: already running");return}w.push(Pr)}const xr={...qn,...gr,nano:e=>hn(e,"/home/"),neofetch:()=>Sr(),hack:e=>Cr(e),cmatrix:e=>Jn(),snake:e=>Fr()};function Nr(e){const t=[];let n="",r=!1;for(let o=0;o<e.length;o++){const s=e[o];if(s==='"'){r=!r;continue}if(!r&&/\s/.test(s)){n&&(t.push(n),n="");continue}n+=s}return n&&t.push(n),t}function Br(e){const t=e.trim();if(!t){i("");return}const[n,...r]=Nr(t),o=xr[n];if(o)try{o(r)}catch(s){i(`error: ${s?.message??String(s)}`)}else i(`${n}: command not found`)}let Gt=!1;function Hr(){return document.hasFocus()&&Vt()}function Wr(e){return e.ctrlKey||e.metaKey||e.altKey?!1:e.key.length===1}function Kr(){const e=y;zn(e),Gn(e),Br(e),In(),an(),g()}function zr(){Gt||(Gt=!0,window.addEventListener("keydown",async e=>{if((e.ctrlKey||e.metaKey)&&e.key.toLowerCase()==="c"&&w.isActive()){e.preventDefault(),await w.interrupt();return}if(w.isActive()){if(w.handleKey(e))return;e.preventDefault();return}if(Hr())switch(e.preventDefault(),e.key){case"Enter":Kr();break;case"Backspace":An(),g();break;case"Delete":On(),g();break;case"ArrowLeft":Tn(),g();break;case"ArrowRight":$n(),g();break;case"ArrowUp":jn(),g();break;case"ArrowDown":Un(),g();break;case"Home":Se(0),g();break;case"End":Se(y.length),g();break;case"Tab":Rt("  "),g();break;default:Wr(e)&&(Rt(e.key),g());break}}))}let jt=!1;const _r=String.raw`
 ########   m#####m ##      ##  m###m##   m###m## 
     m#"    " mmm## "#  ##  #" ##"  "##  ##"  "## 
   m#"     m##"""##  ##m##m##  ##    ##  ##    ## 
 m##mmmmm  ##mmm###  "##  ##"  "##mm###  "##mm### 
 """"""""   """" ""   ""  ""    m""" ##   m""" ## 
                                "####""   "####"" 
`;function Ut(){jt||(jt=!0,i(_r.trimEnd()),i("Welcome to the terminal! This may be VERY buggy."),i(""),i("Type `help` to see a list of commands and what they do."),i("Type `exit` to return to the portfolio."),i(""),zr(),g())}St(()=>g());document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Ut(),g()}):(Ut(),g());const Gr=setInterval(()=>{Vt()&&(clearInterval(Gr),g())},200);document.getElementById("enter-button")?.addEventListener("click",()=>{Ie("startup"),Dn()});St(e=>{e!=="startup"&&Yt()});Ln();document.getElementById("enter-terminal")?.addEventListener("click",()=>{Ie("terminal"),requestAnimationFrame(()=>window.focus())});document.addEventListener("keydown",e=>{e.key==="Enter"&&!e.repeat&&Oe("start")&&(e.preventDefault(),document.getElementById("enter-button")?.click())});Ie("start");
